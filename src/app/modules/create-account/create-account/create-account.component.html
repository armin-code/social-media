<div fxLayout="row" class="login-container">
  <div flex="20">
    <img class="sing-img" src="./assets/images/sign.png" alt="start" />
  </div>

  <div
    flex="80"
    fxLayout="column"
    fxLayoutAlign="start center"
    class="w-100 sign-form-container"
  >
    <div fxLayout="column" fxLayoutAlign="center center" class="mt-40">
      <img src="./assets/images/randomly.png" alt="randomly" />
      <h2>Randomly</h2>
    </div>
    <div class="w-100 sign-form mt-20">
      <h2 fxLayout="column" fxLayoutAlign="center center">Create an account</h2>
      <form [formGroup]="formGroup" (ngSubmit)="onSubmit()" class="form-data">
        <div fxLayout="column">
          <div fxLayoutGap="20px" fxLayoutGap.lt-lg="10px">
            <div fxFlex>
              <mat-form-field class="w-100">
                <mat-label>First Name</mat-label>
                <input formControlName="firstName" matInput required />
                <mat-error
                  *ngIf="formGroup.get('firstName').hasError('required')"
                >
                  First Name is required
                </mat-error>
              </mat-form-field>
            </div>
            <div fxFlex="50">
              <mat-form-field class="w-100">
                <mat-label>Last Name</mat-label>
                <input formControlName="lastName" matInput required />
                <mat-error
                  *ngIf="formGroup.get('lastName').hasError('required')"
                >
                  Last Name is required
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <mat-form-field class="full-width">
            <input
              matInput
              placeholder="Email"
              formControlName="email"
              name="email"
              required
            />
            <mat-error *ngIf="formGroup.get('email').hasError('required')">
              Email is required
            </mat-error>

            <mat-error *ngIf="formGroup.get('email').hasError('pattern')">
              Email is not valid
            </mat-error>
          </mat-form-field>

          <mat-form-field class="full-width">
            <input
              matInput
              placeholder="Username"
              formControlName="username"
              name="username"
              required
            />
            <mat-error *ngIf="formGroup.get('username').hasError('required')">
              Username is required
            </mat-error>
          </mat-form-field>

          <mat-form-field class="full-width">
            <input
              matInput
              placeholder="Password"
              formControlName="password"
              [type]="hide ? 'password' : 'text'"
              name="password"
              required
            />

            <mat-icon matSuffix (click)="showPassword()">{{
              hide ? 'visibility_off' : 'visibility'
            }}</mat-icon>

            <mat-error *ngIf="formGroup.get('password').hasError('required')">
              Password is required
            </mat-error>
            <mat-error *ngIf="formGroup.get('password').hasError('pattern')">
              Password must contains at least 8 charaters
            </mat-error>
          </mat-form-field>

          <mat-form-field color="accent">
            <mat-label>Date Of Birth</mat-label>
            <input
              matInput
              [matDatepicker]="dateOfBirth"
              formControlName="dateOfBirth"
              readonly
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="dateOfBirth"
            ></mat-datepicker-toggle>
            <mat-datepicker
              #dateOfBirth
              color="primary"
              disabled="false"
            ></mat-datepicker>
            <mat-error
              *ngIf="formGroup.get('dateOfBirth').hasError('required')"
            >
              Date is required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="mt-20" fxLayout="column" fxLayoutAlign="center center">
          <mat-spinner
            *ngIf="isLoading"
            class="spinner-container"
          ></mat-spinner>
          <button
            *ngIf="!isLoading"
            class="w-100"
            mat-stroked-button
            type="submit"
            color="primary"
            mat-raised-button
            [disabled]="formGroup.invalid"
          >
            Get started
          </button>
        </div>
      </form>
      <hr class="mt-40" />
      <p class="text-center mt-40">
        Already have account?
        <a class="primary-text" [routerLink]="['/sign-in']">Sign In</a>
      </p>
    </div>
  </div>
</div>
